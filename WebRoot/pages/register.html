<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="keywords" content="小ZK留言"/>
    <meta name="description" content="小ZK留言网-注册账号！" />
    <link href="index/css/page_header.css" rel="stylesheet">
    <link href="register/css/register.css" rel="stylesheet">
    <link href="messageBoard/css/messageBoardFoot.css" rel="stylesheet">
    <link href="index/img/ico_img/index.ico" rel="shortcut  icon" type="image/x-icon">
    <script src="personalCenter/js/angularjs.js"></script>
    <script type="text/javascript" src="index/js/jquery-3.3.1.min.js"></script>
    <script type="text/javascript" src="register/js/register_ng.js"></script>
    <script type="text/javascript" src="index/js/getState.js"></script>
    <script type="text/javascript" src="register/js/register.js"></script>
	

    <title>小ZK-注册账号</title>
</head>
<body  ng-app ="myApp">
    <div id="header">
        <div class="wrap clear">
            <h1 id="logo"><a href="/"><img src="index/img/logo_img/logo.png"/> </a> </h1>
            <ul class="nav">
                <li><a href="/">首页</a> </li>
                <li><a href="messageBoard">留言板</a> </li>
                <li><a href="personalCenter">个人中心</a> </li>
            </ul>
            <p>
                您好,<a id="login_btn" href="/login">请登录</a>
            </p>
        </div>
    </div>
    <p id="location">
        <a href="/">首页</a>
        >
        <a>注册账号</a>
    </p>
    <div ng-controller="form_con" style="margin:100px 0;">
        <form name="myForm" action="/form/register" id="reg" method="post">
            <div class="form_group" ng-class="{'have_error':myForm.username.$dirty && myForm.username.$invalid}">
                <label>用户名：</label>
                <div class="inline">
                    <input id="user" placeholder="用户名" type="text" autocomplete="off" name="username" ng-required="true" ng-pattern="/^[a-zA-Z]{1}/" ng-maxlength="10" ng-minlength="5" ng-model="data.name"/>
                    <a  ng-show="myForm.username.$dirty && !myForm.username.$error.maxlength && !myForm.username.$error.minlength && !myForm.username.$error.pattern" id="check_name" href="javascript:">检测</a>
                    <div ng-show="myForm.username.$dirty && myForm.username.$error.minlength && !myForm.username.$error.pattern">用户名不能小于5位</div>
                    <div ng-show="myForm.username.$dirty && myForm.username.$error.maxlength && !myForm.username.$error.pattern">用户名不能大于10位</div>
                    <div ng-show="myForm.username.$dirty && myForm.username.$error.pattern">用户名必须以英文字母开头</div>
                    <div id="illegal" style="display:none;">用户名只能含有数字，字母，下划线</div>
                </div>
            </div>
            <div class="form_group" ng-class="{'have_error':myForm.password.$dirty && myForm.password.$invalid}">
                <label>密码：</label>
                <div class="inline">
                    <input placeholder="密码" type="password" autocomplete="off" name="password" ng-required="true" ng-pattern="/^[0-9a-zA-Z_]{1,}$/" ng-maxlength="16" ng-minlength="6" ng-model="data.password"/>
                    <div ng-show="myForm.password.$dirty && myForm.password.$error.minlength && !myForm.password.$error.pattern">密码不能小于6位</div>
                    <div ng-show="myForm.password.$dirty && myForm.password.$error.maxlength && !myForm.password.$error.pattern">密码不能大于16位</div>
                    <div ng-show="myForm.password.$dirty && myForm.password.$error.pattern">密码只能含有数字，字母，下划线</div>
                </div>
            </div>
            <div class="form_group" ng-class="{'have_error':myForm.passwordConfirm.$dirty && myForm.passwordConfirm.$invalid || data.password != data.passwordConfirm}">
                <label>确认密码：</label>
                <div class="inline">
                    <input placeholder="确认密码" type="password" autocomplete="off" name="passwordConfirm" ng-pattern="/^[0-9a-zA-Z_]{1,}$/" ng-required="true" ng-maxlength="10" ng-minlength="5" ng-model="data.passwordConfirm"/>
                    <div ng-show="myForm.passwordConfirm.$dirty && myForm.passwordConfirm.$error.minlength || myForm.passwordConfirm.$error.maxlength || myForm.passwordConfirm.$error.pattern" >密码不符合规则</div>
                    <div ng-show="myForm.passwordConfirm.$dirty && data.password != data.passwordConfirm && !myForm.passwordConfirm.$error.minlength && !myForm.passwordConfirm.$error.maxlength && !myForm.passwordConfirm.$error.pattern">密码输入不一致</div>
                </div>
            </div>
            <div class="form_group" ng-class="{'have_error':myForm.email.$dirty && myForm.email.$invalid}">
                <label>邮箱：</label>
                <div class="inline">
                    <input placeholder="邮箱" type="email" autocomplete="off" name="email" ng-pattern="/^[a-zA-Z0-9_.-]+@[a-zA-Z0-9-]+(\.[a-zA-Z0-9-]+)*\.[a-zA-Z0-9]{2,6}$/" ng-required="true" ng-maxlength="20" ng-minlength="5" ng-model="data.email"/>
                    <div ng-show="myForm.email.$dirty && myForm.email.$error.minlength ">邮箱不能小于5位</div>
                    <div ng-show="myForm.email.$dirty && myForm.email.$error.maxlength">邮箱不能大于20位</div>
                    <div ng-show="myForm.email.$dirty && myForm.email.$error.email && !myForm.email.$error.minlength && !myForm.email.$error.maxlength && myForm.email.$error.pattern">邮箱格式不正确</div>
                </div>
            </div>
            <div class="form_group" ng-class="{'have_error':myForm.age.$dirty && myForm.age.$invalid}">
                <label>年龄：</label>
                <div class="inline">
                    <input placeholder="年龄" type="number" autocomplete="off" name="age" ng-required="true" max="99" min="10" ng-model="data.age"/>
                    <div ng-show="myForm.age.$dirty && (myForm.age.$error.min || myForm.age.$error.max)">年龄为10~99</div>
                </div>
            </div>
            <div class="form_group">
                <label>性别：</label>
                <div class="inline">
                    <span><input type="radio" ng-required="true" name="sex" ng-model="data.sex" value="男"/>男</span>
                    <span><input type="radio" ng-required="true" name="sex" ng-model="data.sex" value="女"/>女</span>
                </div>
            </div>
            <div class="form_group">
                <label>爱好：</label>
                <div class="inline">
                <span ng-repeat="hobby in hobbies">
                    <input class="checkbox" type="checkbox" name="likes" ng-value="hobbies[$index].id" ng-checked ="data.hobbies == undefine ? false : data.hobbies.indexOf(hobby.id) !== -1" ng-click="changeCheck(hobby.id)" />{{hobby.name}}
                </span>
                    <div ng-show="data.hobbies === undefined || data.hobbies.length === 0">您没有爱好吗？</div>
                </div>
            </div>
            <div class="form_group">
                <label>所在地:</label>
                <div class="inline">
                    <input placeholder="所在地(3-20位)" type="text" autocomplete="off" name="adress" ng-required="true" ng-maxlength="20" ng-minlength="3" ng-model="data.location"/>
                    <div ng-show="myForm.location.$dirty && myForm.location.$error.minlength">所在地不能小于3位</div>
                    <div ng-show="myForm.location.$dirty && myForm.location.$error.maxlength">所在地不能大于20位</div>
                </div>
            </div>
            <div class="form_group">
                <div class="sub_reset">
                    <input class="reset" type="button" ng-click="reset()" value="重置">
                    <input class="sub" type="submit" ng-disabled="myForm.$invalid" value="注册">
                    <input type="hidden" name="action" value="register" />
                </div>
            </div>
        </form>
    </div>
    <div id="footer">
        <p class="copyright">
            Copyright © ZK All Rights Reserved.
        </p>
    </div>
</body>
</html>